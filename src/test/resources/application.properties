# Test Configuration - extends main application.properties

# H2 in-memory database for testing
quarkus.datasource.jdbc.url=jdbc:h2:mem:inventory-test;DB_CLOSE_ON_EXIT=FALSE;DB_CLOSE_DELAY=-1
quarkus.datasource.db-kind=h2
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.sql-load-script=import.sql

# Disable security completely for tests
quarkus.smallrye-jwt.enabled=false

# Override all security permissions - allow everything
quarkus.http.auth.permission.permit-all.paths=/*
quarkus.http.auth.permission.permit-all.policy=permit
quarkus.http.auth.permission.permit-all.methods=GET,POST,PUT,PATCH,DELETE

# Disable Flyway for tests
quarkus.flyway.migrate-at-start=false

# Reduce logging noise in tests
quarkus.log.console.level=WARN
quarkus.log.category."org.hibernate".level=WARN
quarkus.http.access-log.enabled=false
